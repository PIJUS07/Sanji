<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Your Cart - Sanji Food Delivery</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <script src="script.js" defer></script>
  <style>
    .cart-container{max-width:1200px;margin:0 auto;padding:3rem 2rem}
    .cart-grid{display:grid;grid-template-columns:2fr 1fr;gap:3rem}
    .cart-items{background:white;border-radius:16px;padding:2rem;box-shadow:0 4px 20px rgba(0,0,0,0.08)}
    .cart-item{display:flex;gap:1.5rem;padding:1.5rem;border-bottom:1px solid #f0f0f0;align-items:center}
    .cart-item:last-child{border-bottom:none}
    .item-info{flex:1}
    .item-info h3{font-size:1.2rem;color:#2b2d42;margin-bottom:0.3rem}
    .item-info .restaurant{color:#999;font-size:0.9rem}
    .item-price{font-size:1.3rem;font-weight:700;color:#FF9F1C}
    .qty-controls{display:flex;align-items:center;gap:1rem}
    .qty-btn{width:35px;height:35px;border:2px solid #FF9F1C;background:white;color:#FF9F1C;border-radius:8px;cursor:pointer;font-weight:700;transition:all 0.3s}
    .qty-btn:hover{background:#FF9F1C;color:white}
    .qty-display{font-weight:700;min-width:30px;text-align:center}
    .remove-btn{background:#ff4444;color:white;border:none;padding:0.5rem 1rem;border-radius:8px;cursor:pointer;transition:all 0.3s}
    .remove-btn:hover{background:#cc0000}
    .cart-summary{background:white;border-radius:16px;padding:2rem;box-shadow:0 4px 20px rgba(0,0,0,0.08);height:fit-content;position:sticky;top:100px}
    .summary-row{display:flex;justify-content:space-between;margin-bottom:1rem;font-size:1.1rem}
    .summary-row.total{font-size:1.5rem;font-weight:700;color:#2b2d42;padding-top:1rem;border-top:2px solid #f0f0f0;margin-top:1rem}
    .empty-cart{text-align:center;padding:4rem 2rem}
    .empty-cart-icon{font-size:5rem;margin-bottom:1rem}
    @media(max-width:768px){.cart-grid{grid-template-columns:1fr}.cart-summary{position:static}}
  </style>
</head>
<body>
  <header class="site-header sticky">
    <div class="container header-inner">
      <a class="brand" href="index.html">üçï Sanji</a>
      <div class="search-bar-header">
        <input id="searchInput" type="search" placeholder="Search restaurants, dishes..." aria-label="Search">
      </div>
      <nav class="main-nav">
        <a href="about.html">About</a>
        <a href="faq.html">FAQ</a>
        <a href="contact.html">Contact</a>
        <a href="cart.html" class="btn small" style="background:#FF9F1C;color:white">üõí Cart (<span id="cartCount">0</span>)</a>
        <a href="login.html" class="btn small">Login</a>
        <a href="signup.html" class="btn small primary">Sign up</a>
      </nav>
    </div>
  </header>

  <main class="cart-container">
    <h1 style="font-size:2.5rem;margin-bottom:2rem;color:#2b2d42">üõí Your Cart</h1>
    
    <div id="cartContent">
      <!-- Cart items will be loaded here -->
    </div>
  </main>

  <footer class="site-footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-col">
          <h4>üçï Sanji</h4>
          <p>Your favorite food delivery platform. Get delicious food delivered to your door in minutes.</p>
        </div>
        <div class="footer-col">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="faq.html">FAQ</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Legal</h4>
          <ul>
            <li><a href="#">Terms of Service</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Refund Policy</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; <span id="year"></span> Sanji Food Delivery. All rights reserved.</p>
        <p class="small-text">Made with ‚ù§Ô∏è for food lovers</p>
      </div>
    </div>
    <center>Made by Pijus</center>
  </footer>

  <script>
    function getCart() {
      return JSON.parse(localStorage.getItem('sanji_cart') || '[]');
    }

    function saveCart(cart) {
      localStorage.setItem('sanji_cart', JSON.stringify(cart));
      updateCartCount();
      renderCart();
    }

    function updateCartCount() {
      const cart = getCart();
      const count = cart.reduce((sum, item) => sum + item.qty, 0);
      document.getElementById('cartCount').textContent = count;
    }

    function updateQty(index, change) {
      const cart = getCart();
      cart[index].qty += change;
      if (cart[index].qty <= 0) {
        cart.splice(index, 1);
      }
      saveCart(cart);
    }

    function removeItem(index) {
      const cart = getCart();
      cart.splice(index, 1);
      saveCart(cart);
    }

    function clearCart() {
      if (confirm('Are you sure you want to clear your cart?')) {
        localStorage.setItem('sanji_cart', '[]');
        renderCart();
        updateCartCount();
      }
    }

    function renderCart() {
      const cart = getCart();
      const container = document.getElementById('cartContent');

      if (cart.length === 0) {
        container.innerHTML = `
          <div class="empty-cart">
            <div class="empty-cart-icon">üõí</div>
            <h2 style="font-size:2rem;color:#2b2d42;margin-bottom:1rem">Your cart is empty</h2>
            <p style="color:#666;font-size:1.1rem;margin-bottom:2rem">Looks like you haven't added any items yet</p>
            <a href="index.html" class="btn primary" style="display:inline-block;background:#FF9F1C;color:white;padding:1rem 2.5rem;border-radius:30px;text-decoration:none;font-weight:700;transition:all 0.3s">Browse Restaurants</a>
          </div>
        `;
        return;
      }

      const subtotal = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
      const deliveryFee = 40;
      const tax = Math.round(subtotal * 0.05);
      const total = subtotal + deliveryFee + tax;

      container.innerHTML = `
        <div class="cart-grid">
          <div class="cart-items">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem">
              <h2 style="font-size:1.8rem;color:#2b2d42">Order Items (${cart.length})</h2>
              <button onclick="clearCart()" style="background:#ff4444;color:white;border:none;padding:0.6rem 1.2rem;border-radius:8px;cursor:pointer;font-weight:600">Clear Cart</button>
            </div>
            ${cart.map((item, index) => `
              <div class="cart-item">
                <div class="item-info">
                  <h3>${item.name}</h3>
                  <p class="restaurant">${item.restaurant || 'Restaurant'}</p>
                </div>
                <div class="item-price">‚Çπ${item.price}</div>
                <div class="qty-controls">
                  <button class="qty-btn" onclick="updateQty(${index}, -1)">-</button>
                  <span class="qty-display">${item.qty}</span>
                  <button class="qty-btn" onclick="updateQty(${index}, 1)">+</button>
                </div>
                <div class="item-price">‚Çπ${item.price * item.qty}</div>
                <button class="remove-btn" onclick="removeItem(${index})">Remove</button>
              </div>
            `).join('')}
          </div>

          <div class="cart-summary">
            <h2 style="font-size:1.8rem;color:#2b2d42;margin-bottom:1.5rem">Order Summary</h2>
            <div class="summary-row">
              <span>Subtotal</span>
              <span>‚Çπ${subtotal}</span>
            </div>
            <div class="summary-row">
              <span>Delivery Fee</span>
              <span>‚Çπ${deliveryFee}</span>
            </div>
            <div class="summary-row">
              <span>GST (5%)</span>
              <span>‚Çπ${tax}</span>
            </div>
            <div class="summary-row total">
              <span>Total</span>
              <span style="color:#FF9F1C">‚Çπ${total}</span>
            </div>
            <button onclick="proceedToCheckout()" class="btn primary" style="width:100%;margin-top:1.5rem;background:#FF9F1C;color:white;padding:1rem;border:none;border-radius:10px;font-weight:700;font-size:1.1rem;cursor:pointer;transition:all 0.3s">Proceed to Checkout</button>
            <a href="index.html" style="display:block;text-align:center;margin-top:1rem;color:#FF9F1C;text-decoration:none;font-weight:600">‚Üê Continue Shopping</a>
          </div>
        </div>
      `;
    }

    function proceedToCheckout() {
      alert('Checkout functionality coming soon! üéâ\n\nYou would be redirected to payment page.');
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      updateCartCount();
      renderCart();
    });
  </script>
</body>
</html>
